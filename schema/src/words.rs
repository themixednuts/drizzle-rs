//! Random word lists for migration names (like drizzle-kit)

/// Adjectives for migration names
pub const ADJECTIVES: &[&str] = &[
    "able", "ancient", "basic", "bitter", "black", "blue", "bold", "brave", "brief", "bright",
    "broad", "brown", "calm", "cheap", "chief", "civil", "clean", "clear", "close", "cold",
    "common", "cool", "crazy", "curly", "daily", "dark", "dear", "deep", "dirty", "double", "dull",
    "dusty", "early", "east", "easy", "empty", "equal", "every", "exact", "extra", "fair", "false",
    "fancy", "fast", "few", "final", "fine", "first", "flat", "fluffy", "fresh", "front", "full",
    "funny", "gentle", "giant", "glad", "global", "gold", "good", "grand", "gray", "great",
    "green", "gross", "guilty", "happy", "hard", "harsh", "heavy", "hidden", "high", "holy",
    "honest", "hot", "huge", "humble", "hungry", "icy", "ideal", "inner", "jolly", "junior",
    "keen", "kind", "large", "last", "late", "lazy", "left", "legal", "light", "little", "lively",
    "local", "lone", "long", "loose", "lost", "loud", "lovely", "low", "lucky", "mad", "magic",
    "main", "major", "many", "mass", "mild", "minor", "misty", "modern", "moral", "muddy",
    "narrow", "near", "neat", "new", "next", "nice", "noble", "noisy", "normal", "north", "novel",
    "odd", "old", "only", "open", "orange", "other", "outer", "pale", "past", "pink", "plain",
    "polite", "poor", "pretty", "prime", "prior", "proud", "pure", "purple", "quick", "quiet",
    "rapid", "rare", "raw", "ready", "real", "red", "remote", "rich", "right", "rigid", "ripe",
    "rising", "rough", "round", "royal", "rural", "safe", "salty", "same", "sandy", "secure",
    "senior", "sharp", "shiny", "short", "shy", "silent", "silly", "silver", "simple", "single",
    "slim", "slow", "small", "smart", "smooth", "soft", "solid", "sorry", "south", "spare",
    "square", "steady", "steep", "sticky", "still", "stout", "strict", "strong", "super", "sweet",
    "swift", "tall", "tame", "tart", "tender", "thick", "thin", "third", "tight", "tiny", "total",
    "tough", "ugly", "unique", "upper", "upset", "urban", "vast", "violet", "warm", "weak",
    "wealthy", "west", "wet", "white", "whole", "wide", "wild", "wise", "witty", "wooden",
    "worthy", "wrong", "yellow", "young", "zero",
];

/// Nouns for migration names
pub const NOUNS: &[&str] = &[
    "air", "alarm", "angel", "ant", "apple", "arch", "arm", "army", "arrow", "baby", "badge",
    "ball", "band", "bank", "barn", "basin", "bat", "bath", "beach", "bead", "beam", "bean",
    "bear", "beast", "bed", "bee", "bell", "berry", "bird", "blade", "blaze", "block", "blood",
    "board", "boat", "body", "bolt", "bomb", "bone", "book", "boot", "bow", "bowl", "box", "boy",
    "brain", "brake", "branch", "bread", "brick", "bridge", "brook", "broom", "brush", "bucket",
    "bug", "bulb", "bunch", "bush", "butter", "button", "cage", "cake", "camp", "canal", "cap",
    "card", "cart", "case", "castle", "cat", "cave", "chain", "chair", "chalk", "chance", "chapel",
    "cheese", "cherry", "chest", "chief", "child", "chin", "church", "circle", "city", "class",
    "claw", "clay", "cliff", "clock", "cloth", "cloud", "clown", "club", "coach", "coal", "coast",
    "coat", "cobra", "coin", "collar", "comet", "cone", "cook", "cord", "cork", "corn", "corner",
    "cow", "crab", "crack", "craft", "crane", "crew", "crib", "crop", "cross", "crowd", "crown",
    "cube", "cup", "curve", "dawn", "deer", "desk", "dew", "dial", "disk", "dock", "dog", "doll",
    "dome", "door", "dot", "dove", "draft", "dragon", "drain", "dream", "dress", "drill", "drink",
    "drive", "drop", "drum", "duck", "duke", "dust", "eagle", "ear", "earth", "edge", "eel", "egg",
    "elbow", "elm", "ember", "end", "engine", "eye", "face", "fairy", "falcon", "fan", "farm",
    "feast", "feather", "fence", "fern", "field", "fig", "finger", "fire", "fish", "flag", "flame",
    "flask", "flock", "flood", "floor", "flower", "flute", "fly", "foam", "fog", "foot", "force",
    "forest", "fork", "form", "fort", "fox", "frame", "frog", "front", "frost", "fruit", "garden",
    "gate", "ghost", "giant", "gift", "girl", "glacier", "glass", "globe", "glove", "glow", "goat",
    "gold", "goose", "grain", "grape", "grass", "grave", "gray", "green", "grill", "ground",
    "group", "grove", "guard", "guest", "guide", "gulf", "gust", "hall", "hammer", "hand",
    "harbor", "hare", "harp", "hat", "hawk", "hay", "head", "heart", "heat", "hedge", "heel",
    "hen", "herb", "hero", "hill", "hive", "hole", "home", "hood", "hook", "hope", "horn", "horse",
    "house", "ice", "idea", "inch", "inn", "iron", "island", "ivy", "jacket", "jade", "jail",
    "jam", "jar", "jaw", "jet", "jewel", "joint", "joke", "judge", "juice", "jungle", "jury",
    "key", "king", "kite", "knee", "knife", "knight", "knob", "knot", "lab", "lace", "lake",
    "lamp", "land", "lane", "lark", "latch", "law", "leaf", "leg", "lemon", "lens", "level",
    "light", "lily", "limb", "lime", "line", "lion", "lip", "list", "lizard", "lock", "lodge",
    "log", "loop", "lord", "lotus", "love", "lunch", "lynx", "maid", "mail", "man", "map", "maple",
    "mark", "marsh", "mask", "mass", "mat", "match", "maze", "meal", "meat", "melon", "mist",
    "moat", "mode", "mole", "monk", "moon", "moose", "moss", "moth", "mouse", "mouth", "mud",
    "mule", "nail", "name", "neck", "nest", "net", "night", "noise", "north", "nose", "note",
    "nova", "nut", "oak", "oar", "ocean", "oil", "olive", "onion", "opera", "orbit", "orange",
    "orchid", "organ", "otter", "owl", "ox", "pack", "pad", "page", "pail", "paint", "pair",
    "palace", "palm", "pan", "panda", "pansy", "paper", "park", "parrot", "party", "pass", "pasta",
    "paste", "patch", "path", "paw", "pea", "peace", "peach", "peak", "pearl", "pear", "pen",
    "perch", "pest", "piano", "pie", "pig", "pike", "pile", "pilot", "pin", "pine", "pipe", "pit",
    "pitch", "pizza", "place", "plain", "plan", "plane", "plant", "plate", "plum", "plume",
    "pocket", "poem", "point", "pole", "pond", "pool", "port", "post", "pot", "press", "priest",
    "prism", "prize", "probe", "pulse", "pump", "puppy", "puzzle", "quail", "queen", "quest",
    "quilt", "rabbit", "race", "rack", "radio", "raft", "rail", "rain", "ramp", "range", "rat",
    "raven", "ray", "reef", "reign", "rhino", "rice", "ridge", "ring", "river", "road", "robe",
    "robin", "rock", "rod", "roll", "roof", "room", "root", "rope", "rose", "route", "row", "ruby",
    "rug", "rule", "rush", "rust", "sage", "sail", "saint", "salad", "salt", "sand", "sauce",
    "scale", "scarf", "scene", "school", "scope", "scout", "screen", "sea", "seal", "seat", "seed",
    "shade", "shadow", "shaft", "shape", "shark", "sheep", "sheet", "shelf", "shell", "shield",
    "ship", "shirt", "shock", "shoe", "shop", "shore", "shrub", "shrimp", "side", "silk", "sink",
    "site", "skull", "sky", "slab", "slave", "sleeve", "slice", "slide", "slope", "slot", "smoke",
    "snail", "snake", "snow", "soap", "sock", "soil", "song", "soul", "sound", "soup", "south",
    "space", "spark", "spear", "spell", "sphere", "spice", "spider", "spine", "spirit", "splash",
    "spoon", "sport", "spot", "spray", "spring", "sprite", "sprout", "squad", "square", "squash",
    "squid", "stage", "stair", "stake", "stamp", "star", "state", "steam", "steel", "stem", "step",
    "stick", "stock", "stone", "stool", "store", "storm", "story", "stove", "strand", "straw",
    "stream", "street", "strip", "stroke", "stuff", "style", "sugar", "suit", "sun", "surf",
    "swamp", "swan", "sword", "table", "tail", "tank", "tape", "target", "tea", "team", "tent",
    "term", "thorn", "thread", "throne", "thumb", "tide", "tiger", "tile", "tip", "toast", "tomb",
    "tone", "tongue", "tool", "tooth", "top", "torch", "tower", "town", "track", "trade", "trail",
    "train", "trap", "tray", "tree", "trend", "tribe", "trick", "trip", "trophy", "trout", "truck",
    "trunk", "trust", "truth", "tube", "tulip", "tuna", "tune", "tunnel", "turkey", "turn",
    "turtle", "tusk", "tutor", "twig", "twist", "type", "uncle", "union", "unit", "valley",
    "valve", "van", "vase", "vault", "vein", "verse", "vest", "video", "view", "villa", "vine",
    "viola", "violet", "virus", "voice", "wagon", "waist", "wall", "walnut", "walrus", "wand",
    "war", "ward", "wasp", "watch", "water", "wave", "wax", "wealth", "web", "wedge", "week",
    "well", "west", "whale", "wheat", "wheel", "whip", "wife", "willow", "wind", "window", "wine",
    "wing", "winter", "wire", "witch", "wolf", "woman", "wood", "wool", "word", "work", "world",
    "worm", "wound", "wren", "wrist", "yard", "yawn", "year", "yew", "yolk", "youth", "zebra",
    "zero", "zinc", "zone", "zoo",
];

/// Generate a random migration tag like "0000_adjective_noun"
pub fn generate_migration_tag(idx: u32) -> String {
    use std::collections::hash_map::DefaultHasher;
    use std::hash::{Hash, Hasher};
    use std::time::{SystemTime, UNIX_EPOCH};

    // Use timestamp + idx for pseudo-randomness
    let seed = SystemTime::now()
        .duration_since(UNIX_EPOCH)
        .map(|d| d.as_nanos())
        .unwrap_or(0) as u64
        + idx as u64;

    let mut hasher = DefaultHasher::new();
    seed.hash(&mut hasher);
    let hash = hasher.finish();

    let adj_idx = (hash % ADJECTIVES.len() as u64) as usize;
    let noun_idx = ((hash >> 32) % NOUNS.len() as u64) as usize;

    format!("{:04}_{}_{}", idx, ADJECTIVES[adj_idx], NOUNS[noun_idx])
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_generate_tag() {
        let tag = generate_migration_tag(0);
        assert!(tag.starts_with("0000_"));

        let parts: Vec<_> = tag.split('_').collect();
        assert_eq!(parts.len(), 3);
        assert_eq!(parts[0], "0000");
        assert!(ADJECTIVES.contains(&parts[1]));
        assert!(NOUNS.contains(&parts[2]));
    }

    #[test]
    fn test_different_indices_different_tags() {
        let tag1 = generate_migration_tag(0);
        let tag2 = generate_migration_tag(1);
        // Tags should be different (with high probability)
        assert_ne!(tag1, tag2);
    }
}
